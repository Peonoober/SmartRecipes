SmartRecipes

Краткое описание

SmartRecipes — мобильное Android‑приложение для поиска и хранения кулинарных рецептов по названию, сложности и набору ингредиентов. Приложение ориентировано на пользователей, которые хотят быстро находить подходящие блюда из того, что уже есть дома, а также вести свой небольшой «рецептник».

Основные возможности (пользователь)

– Регистрация по email и паролю, подтверждение email через письмо (Firebase Authentication).
– Авторизация с проверкой подтверждённого email.
– Возможность офлайн‑входа: последний успешно введённый email и пароль сохраняются локально в виде хеша, и при отсутствии интернета можно войти в приложение.
– Светлая и тёмная темы, переключаемые в настройках приложения.
– Экран профиля: отображение email, смена фото аватара (загрузка из галереи, хранение на устройстве), быстрый переход к разделам «Мои рецепты» и «Избранное».
– Главный экран в виде ленты всех рецептов, загруженных из базы (Firestore).
– Поиск рецептов по названию, по уровню сложности и по выбранным ингредиентам.
– Ингредиенты для поиска сгруппированы по категориям (мясо и птица, рыба, овощи, молочные продукты, крупы, бобовые, специи, фрукты и т.д.), есть ограничение на выбор не более 10 ингредиентов одновременно.
– Результаты поиска сортируются по количеству совпавших ингредиентов: сначала отображаются рецепты, где найдены все или большинство выбранных ингредиентов, затем остальные, в которых есть хотя бы один совпадающий ингредиент.
– Просмотр детального рецепта: название, краткое описание, список ингредиентов и пошаговая текстовая инструкция.
– Добавление и удаление рецептов из раздела «Избранное».
– Раздел «Избранное»: список сохранённых рецептов, доступен даже без интернета (для избранного используется локальный кэш, синхронизируемый с Firestore).
– Раздел «Мои рецепты»: пользователь может создавать свои рецепты (название, описание, ингредиенты, инструкция), хранить их локально на устройстве, просматривать и удалять.

Возможности администратора

Роль администратора задаётся в Firestore полем isAdmin = true в документе пользователя в коллекции Users.

Администратор может:

– Создавать новые рецепты, которые сразу становятся доступны всем пользователям (добавление документов в коллекцию Recipes).
– На отдельном экране просматривать список рецептов по поиску и удалять отдельные записи через карточки с диалогом подтверждения.
– На отдельном экране просматривать список пользователей (поиск по email), видеть их UID и удалять их данные из Firestore (документ Users/{uid} и подколлекцию favorites) с подтверждением операции.

Технологический стек

Клиент (Android):

– Язык: Kotlin.
– Android SDK, ViewBinding.
– Material Components for Android, RecyclerView, ChipGroup.
– Поддержка светлой и тёмной тем по механизму DayNight (AppCompatDelegate).

Сервисная инфраструктура:

– Firebase Authentication — регистрация, авторизация, подтверждение email, управление сессиями.
– Cloud Firestore — хранение данных о пользователях, рецептах и избранном.

Локальное хранилище:

– SharedPreferences — для офлайн‑входа, локального избранного, собственных рецептов пользователя, сохранения выбранной темы и аватара профиля.

Архитектура и данные

Приложение SmartRecipes представляет собой Android‑клиент, который напрямую взаимодействует с Firebase через официальные SDK, без собственного REST‑сервера.

Основная схема:

Android‑приложение (Kotlin) ↔ Firebase Authentication ↔ Cloud Firestore

В Authentication хранится учётная запись пользователя (email, хэш пароля, статус подтверждения email). В Firestore хранятся:

– Коллекция Users: документы с id = uid пользователя. В документах хранятся, как минимум, поля email и isAdmin (флаг роли администратора).
– Подколлекция Users/{uid}/favorites: список избранных рецептов для данного пользователя. Идентификатор каждого документа совпадает с id рецепта в коллекции Recipes.
– Коллекция Recipes: набор рецептов с полями id, name, subtitle, ingredients (массив строк), instructions, difficulty (легко, средне, сложно). Поле imageUrl зарезервировано для будущей поддержки картинок.

Часть данных (избранное, свои рецепты, аватар, тема и последняя пара email/пароль для офлайн‑входа) дублируется в локальном хранилище (SharedPreferences), чтобы базовый функционал приложения был доступен без интернета.

Установка и запуск (кратко)

Открыть проект SmartRecipes в Android Studio.
Создать проект Firebase, добавить в него Android‑приложение с соответствующим applicationId и скачать файл google-services.json в каталог app.
Включить в консоли Firebase провайдер Authentication по схеме Email/Password и создать базу Cloud Firestore.
Собрать и запустить приложение на устройстве или эмуляторе (минимальная версия Android — 7.0, API 24).
Создание учётной записи администратора

Зарегистрировать нового пользователя через приложение (или создать его в разделе Authentication консоли Firebase).
В разделе Authentication скопировать его идентификатор uid.
В Cloud Firestore открыть документ коллеции Users с этим uid и добавить/установить поле isAdmin = true.
При входе под этим email и паролем приложение автоматически откроет админ‑панель вместо обычного главного экрана.
Планы по развитию

– Добавить рейтинги рецептов и отзывы пользователей.
– Расширить фильтрацию (тип блюда, кухня, время приготовления, калорийность).
– Реализовать блок «Похожие рецепты» и рекомендации на основе истории поиска или избранного.
– Добавить push‑уведомления (например, напоминания о сохранённых рецептах или рекомендации дня).

Автор и репозиторий

Автор: Сафонов Александр 405ИС-22
Профиль GitHub: https://github.com/Peonoober
Репозиторий проекта: https://github.com/Peonoober/SmartRecipes
